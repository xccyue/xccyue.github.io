---
title: hdu1274 展开字符串 递归
date: 2018-07-16 20:44:20
author: Chaoyue Xing
img: 
top: false
cover: false
coverImg: 
password: 
toc: false
mathjax: false
summary:
categories: Algorithm
tags: 
  - 字符串
  - hdu
---

---

# 展开字符串

***\*Time Limit: 2000/1000 MS (Java/Others)  Memory Limit: 65536/32768 K (Java/Others)
Total Submission(s): 3133  Accepted Submission(s): 1511\****

Problem Description

在纺织CAD系统开发过程中，经常会遇到纱线排列的问题。
该问题的描述是这样的：常用纱线的品种一般不会超过25种，所以分别可以用小写字母表示不同的纱线，例如：abc表示三根纱线的排列；重复可以用数字和括号表示，例如：2(abc)表示abcabc；1(a)=1a表示a;2ab表示aab;如果括号前面没有表示重复的数字出现，则就可认为是1被省略了，如：cd(abc)=cd1(abc)=cdabc;这种表示方法非常简单紧凑，也易于理解；但是计算机却不能理解。为了使计算机接受，就必须将简单紧凑的表达方式展开。某ACM队接受了此项任务。现在你就是该ACM队的一员，请你把这个程序编写完成。
已知条件：输入的简单紧凑表达方式的长度不超过250个字符；括号前表示重复的数不超过1000；不会出现除了数字、括号、小写字母以外的任何其他字符；不会出现括号不配对等错误的情况（错误处理已由ACM其他队员完成了）。

Input

本题有多个测试数据组，第一行输入的就是数据组数N，接着就是N行表达式，表达式是按照前面介绍的意义书写的。

Output

输出时含有N行，每行对应一个输入的表达式。

Sample Input

2 1(1a2b1(ab)1c)

3(ab2(4ab)

这种括号运算的问题就是写一个函数可以处理所有情况下的字符

Sample Output

abbabc

abaaaabaaaababaaaabaaaababaaaabaaaab

---

```c++
#include<iostream>
#include<string>
#include<cstdio>
#include<algorithm>
using namespace std;
string s;
int dfs(int j)//dfs返回的是字符串的长度-2，记录下来方便下一步的运算
{
    int num=0;//记录数字的大小
   // printf(":");
    for(int i=j;i<s.size();++i)//从j开始输出
    {
        if(s[i]>='a'&&s[i]<='z')//如果是字母则输出
        {
            int tem=max(num,1);//num最小是1，这个是为了避免前面是1省略的情况
            for(int h=0;h<tem;++h)
            {
                printf("%c",s[i]);
            }
            num=0;//不要忘记将num重新归零
        }
        else if(s[i]>='0'&&s[i]<='9')//如果是数字的话那么就进行累计，相当于字符串处理
        {
            num=num*10+s[i]-'0';
            //cout<<"*";
        }
        else if(s[i]=='(')//如果是左括号相当于重新开始
        {
            int tmp=max(num,1);
            int m=0;
            for(int h=0;h<tmp;++h)
            {
                m=dfs(i+1);
            }
            i=i+m+1;//直接跳到右括号之后
            num=0;
        }
        else return i-j;//返回字符串长度-2
    }
}
int main(void)
{
    int t;
    cin>>t;
    while(t--)
    {
        cin>>s;
        dfs(0);//直接从第0位开始
        printf("\n");
    }
}
```

